# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ6. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

##  –¶–µ–ª—å —Ä–∞–±–æ—Ç—ã

–ù–∞—É—á–∏—Ç—å—Å—è –æ—Ä–≥–∞–Ω–∏–∑–æ–≤—ã–≤–∞—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ PHP, —Ä–∞–±–æ—Ç–∞—é—â–µ–µ —á–µ—Ä–µ–∑ Nginx –∏ PHP-FPM.

---

##  –ó–∞–¥–∞–Ω–∏–µ

1. –°–æ–∑–¥–∞—Ç—å PHP-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –±–∞–∑–µ –¥–≤—É—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤: `nginx` –∏ `php-fpm`.
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤ –æ–¥–Ω–æ–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–µ—Ç–∏ `internal`.
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π PHP-—Ñ–∞–π–ª `index3.php` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤, –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞.
5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å–∞–π—Ç–∞ –Ω–∞ `localhost`.

---

##  –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

### üîπ –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞

–Ø —Å–æ–∑–¥–∞–ª–∞ –Ω–æ–≤—É—é –ø–∞–ø–∫—É —Å –∏–º–µ–Ω–µ–º `containers06` –≤ —Å–≤–æ–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏. –í–Ω—É—Ç—Ä–∏ –Ω–µ—ë —Å–æ–∑–¥–∞–ª–∞ –ø–æ–¥–∫–∞—Ç–∞–ª–æ–≥–∏ `mounts/site` –∏ `nginx`, —á—Ç–æ–±—ã –≤ –Ω–∏—Ö —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å PHP-—Å–∞–π—Ç –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx.

```bash
mkdir containers06
cd containers06
mkdir mounts/site
mkdir nginx
```

–ó–∞—Ç–µ–º —è —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∞ —Ñ–∞–π–ª `index3.php`, —Ä–∞–Ω–µ–µ —Å–¥–µ–ª–∞–Ω–Ω—ã–π –≤ –∫—É—Ä—Å–µ –ø–æ PHP, –≤ –ø–∞–ø–∫—É `mounts/site`. –Ø –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ –ü—Ä–æ–≤–æ–¥–Ω–∏–∫ Windows, —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ `index3.php` –ø–æ –ø—É—Ç–∏ `C:/xampp/htdocs/01_Introduction/index3.php` –∏ –≤—Ä—É—á–Ω—É—é –≤—Å—Ç–∞–≤–∏–ª–∞ –µ–≥–æ –≤ `C:/Users/marin/containers06/mounts/site/`.

### üîπ –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ .gitignore

–ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ —Å–∞–π—Ç–∞ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, —è —Å–æ–∑–¥–∞–ª–∞ —Ñ–∞–π–ª `.gitignore` –∏ –¥–æ–±–∞–≤–∏–ª–∞ –≤ –Ω–µ–≥–æ:

```
mounts/site/*
```

–Ø —Å–¥–µ–ª–∞–ª–∞ —ç—Ç–æ –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ —Ç–∞–∫:

```cmd
cd C:\Users\marin\containers06
echo mounts/site/* > .gitignore
```

### üîπ –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx

–Ø —Å–æ–∑–¥–∞–ª–∞ —Ñ–∞–π–ª `default.conf` –≤ –ø–∞–ø–∫–µ `nginx` —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞. –ú–Ω–µ –±—ã–ª–æ –≤–∞–∂–Ω–æ, —á—Ç–æ–±—ã Nginx –º–æ–≥ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ —Ñ–∞–π–ª—É `index3.php`:

```nginx
server {
    listen 80;
    server_name _;

    root /var/www/html;
    index index3.php;

    location / {
        try_files $uri $uri/ /index3.php?$args;
    }

    location ~ \.php$ {
        fastcgi_pass backend:9000;
        fastcgi_index index3.php;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        include fastcgi_params;
    }
}
```


### üîπ –®–∞–≥ 4: –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ç–∏ internal

–ß—Ç–æ–±—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –º–æ–≥–ª–∏ "–≤–∏–¥–µ—Ç—å" –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –ø–æ –∏–º–µ–Ω–∏, —è —Å–æ–∑–¥–∞–ª–∞ —Å–µ—Ç—å `internal` —Å –ø–æ–º–æ—â—å—é:

```bash
docker network create internal
```

### üîπ –®–∞–≥ 5: –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ backend

–≠—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å `php-fpm`, –∫ –∫–æ—Ç–æ—Ä–æ–º—É —è –ø–æ–¥–∫–ª—é—á–∏–ª–∞ –ø–∞–ø–∫—É `site`:

```bash
docker run -d --name backend --network internal -v C:/Users/marin/containers06/mounts/site:/var/www/html php:7.4-fpm
```

### üîπ –®–∞–≥ 6: –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ frontend

–ü–æ—Å–ª–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ø—ã—Ç–æ–∫ –∏ –ø—Ä–∞–≤–æ–∫ —è —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—Å—Ç–∏–ª–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å Nginx:

```bash
docker rm -f frontend
docker run -d --name frontend --network internal -v C:/Users/marin/containers06/mounts/site:/var/www/html -v C:/Users/marin/containers06/nginx/default.conf:/etc/nginx/conf.d/default.conf -p 8080:80 nginx:1.23-alpine
```

–Ø –≤—ã–±—Ä–∞–ª–∞ –ø–æ—Ä—Ç `8080`, –ø–æ—Ç–æ–º—É —á—Ç–æ `80` —É –º–µ–Ω—è –±—ã–ª –∑–∞–Ω—è—Ç XAMPP.

### üîπ –®–∞–≥ 7: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–∞–π—Ç–∞

–û—Ç–∫—Ä—ã–≤ –±—Ä–∞—É–∑–µ—Ä –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:8080`, —è —É–≤–∏–¥–µ–ª–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã –º–æ–µ–≥–æ PHP-—Ñ–∞–π–ª–∞. –ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ —è –∏–∑–º–µ–Ω–∏–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `index3.php`, –≤—Å—ë –∑–∞—Ä–∞–±–æ—Ç–∞–ª–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

---

##  –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã

**1. –ö–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –≤ –¥–∞–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –º–æ–≥—É—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º?**  
–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∫ –æ–¥–Ω–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π —Å–µ—Ç–∏ Docker (`internal`). –ë–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–º—É, –æ–Ω–∏ –º–æ–≥—É—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –¥—Ä—É–≥ –∫ –¥—Ä—É–≥—É –ø–æ –∏–º–µ–Ω–∏. –í –º–æ—ë–º —Å–ª—É—á–∞–µ Nginx –ø–µ—Ä–µ–¥–∞—ë—Ç PHP-–∑–∞–ø—Ä–æ—Å—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É `backend` –ø–æ –∞–¥—Ä–µ—Å—É `backend:9000`.

**2. –ö–∞–∫ –≤–∏–¥—è—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –≤ —Ä–∞–º–∫–∞—Ö —Å–µ—Ç–∏ internal?**  
Docker –≤–Ω—É—Ç—Ä–∏ —Å–µ—Ç–∏ —Å–∞–º –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç DNS: –∫–∞–∂–¥—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–∏–¥–µ–Ω –¥—Ä—É–≥–∏–º –ø–æ –∏–º–µ–Ω–∏. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–Ω—Ñ–∏–≥–µ `fastcgi_pass backend:9000` –±–µ–∑ IP-–∞–¥—Ä–µ—Å–∞.

**3. –ü–æ—á–µ–º—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –±—ã–ª–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é nginx?**  
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é Nginx –Ω–µ —É–º–µ–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å PHP. –ß—Ç–æ–±—ã –æ–Ω –º–æ–≥ –Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å `.php`-–∑–∞–ø—Ä–æ—Å—ã –≤ PHP-FPM, —è –≤—Ä—É—á–Ω—É—é –¥–æ–±–∞–≤–∏–ª–∞ –Ω—É–∂–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–∏–≤—ã (`fastcgi_pass`, `SCRIPT_FILENAME`, –∏ —Ç.–¥.)

---

##  –í—ã–ª–æ–∂–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ GitHub

1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:

```bash
git init
git add .
git commit -m "Lab 6 - Docker PHP + Nginx setup"
```

2. –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –Ω–∞ GitHub (–Ω–∞–ø—Ä–∏–º–µ—Ä: `containers06`)

3. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:

```bash
git remote add origin https://github.com/–≤–∞—à_–ª–æ–≥–∏–Ω/containers06.git
git branch -M main
git push -u origin main
```

4. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö GitHub —è –≤—Ä—É—á–Ω—É—é –∏–∑–º–µ–Ω–∏–ª–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ **–ø—Ä–∏–≤–∞—Ç–Ω—ã–π**:  
`Settings > Change visibility > Make private`

---

##  –í—ã–≤–æ–¥—ã

–í —Ö–æ–¥–µ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã —è –Ω–∞—Å—Ç—Ä–æ–∏–ª–∞ —Å–≤—è–∑–∫—É `nginx + php-fpm` –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö. –°–æ–∑–¥–∞–ª–∞ –∏ –ø—Ä–∏–º–µ–Ω–∏–ª–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å–µ—Ä–≤–µ—Ä–∞, –æ–±–µ—Å–ø–µ—á–∏–ª–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —á–µ—Ä–µ–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é —Å–µ—Ç—å –∏ –≤—ã–≤–µ–ª–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É PHP –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –ü–æ–ª—É—á–∏–ª–∞ –ø–æ–ª–µ–∑–Ω—ã–π –æ–ø—ã—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –æ—à–∏–±–æ–∫ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ.
